<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Login Page</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
</head>
<style>
    .alert-center {
    position: fixed;
    top: 10%;
    left: 45%;
    height: 60px;
    width: 350px;
    transform: translate(-50%, -50%);
    z-index: 1000;
    display: none;
    text-align: center;
}
</style>
<body style="background-color: lightslategray;">
    <img src="{% static 'images/Gauge.jpg' %}" style="height: 350px; width: 650px; margin-top: 100px; margin-left: 100px;border: 7px solid white;">
    <div class="login" style="margin-left: 1300px;">
        <div class="loginform">
            <h2>Login</h2> 
            <form method="post">
                {% csrf_token %}
                <div class="tbox">
                    <i class="fa fa-user mx-3"></i>
                    <input type="text" name="user" id="username" placeholder="Username" autocomplete="off" required>
                </div>
                <br>
                <div class="tbox" >
                    <div class="password-input-container">
                        <i class="fa fa-lock mx-3"></i>
                        <input type="password" name="password" id="password" placeholder="Password" class="password-input" autocomplete="off" required>
                        <button type="button" class="toggle-password" onclick="togglePasswordVisibility()">üëÅ</button>
                    </div>
                </div>
                <br>
                <button type="submit" id="login-button" style="margin-left: 150px;"><b>Login</b></button>
            </form>
            {% if error_message %}
            <div class="alert alert-danger alert-center" role="alert" id="error-alert">
                {{ error_message }}
            </div>
        {% endif %}
        </div>
    </div>
    <h1 class="center-align"><b>Gauge Logic DAQ - SPC</b></h1>
    <h1 class="left-align">Web: www.gaugelogic.com<br>E-Mail: sales@gaugelogic.com</h1>
    <h1 class="right-align">-Accuracy is Our Moto & Passion</h1>
    <h1 class="right-align-1">Sales : +91 7448411234</h1>

    <script>
        function togglePasswordVisibility() {
            var passwordInput = document.querySelector('.password-input');
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
            } else {
                passwordInput.type = 'password';
            }
        }
        
        document.addEventListener("DOMContentLoaded", function() {
            var errorAlert = document.getElementById('error-alert');
            if (errorAlert) {
                errorAlert.style.display = 'block';
                setTimeout(function() {
                    errorAlert.style.display = 'none';
                }, 3000); // Hide after 3 seconds
            }
        });

        window.addEventListener('DOMContentLoaded', (event) => {
            var inputs = document.querySelectorAll('input');
            inputs.forEach(input => {
                input.setAttribute('autocomplete', 'off');
            });
        });
      
    </script>
</body>
</html>
